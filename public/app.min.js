var g=void 0,j=!0,k=null,l=!1,q,aa=aa||{},s=this;function ba(a,b){var c=a.split("."),d=s;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&b!==g?d[e]=b:d=d[e]?d[e]:d[e]={}}function ca(a){a=a.split(".");for(var b=s,c;c=a.shift();)if(b[c]!=k)b=b[c];else return k;return b}function da(){}
function t(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){var b=t(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function z(a){return a[fa]||(a[fa]=++ga)}var fa="closure_uid_"+(1E9*Math.random()>>>0),ga=0;function ha(a,b,c){return a.call.apply(a.bind,arguments)}
function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function A(a,b,c){A=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return A.apply(k,arguments)}
function ja(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var ka=Date.now||function(){return+new Date};function B(a,b){function c(){}c.prototype=b.prototype;a.T=b.prototype;a.prototype=new c;a.prototype.constructor=a};function la(a){Error.captureStackTrace?Error.captureStackTrace(this,la):this.stack=Error().stack||"";a&&(this.message=String(a))}B(la,Error);la.prototype.name="CustomError";function ma(a,b){for(var c=1;c<arguments.length;c++){var d=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,d)}return a}function na(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function oa(a){if(!pa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(qa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ra,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(sa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ta,"&quot;"));return a}var qa=/&/g,ra=/</g,sa=/>/g,ta=/\"/g,pa=/[&<>\"]/;Math.random();function ua(a,b){b.unshift(a);la.call(this,ma.apply(k,b));b.shift();this.lc=a}B(ua,la);ua.prototype.name="AssertionError";function va(a,b){throw new ua("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var C=Array.prototype,E=C.indexOf?function(a,b,c){return C.indexOf.call(a,b,c)}:function(a,b,c){c=c==k?0:0>c?Math.max(0,a.length+c):c;if(u(a))return!u(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},F=C.forEach?function(a,b,c){C.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},wa=C.filter?function(a,b,c){return C.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,h=u(a)?a.split(""):
a,m=0;m<d;m++)if(m in h){var n=h[m];b.call(c,n,m,a)&&(e[f++]=n)}return e};function xa(a,b){var c=E(a,b);0<=c&&C.splice.call(a,c,1)}function ya(a,b,c){return 2>=arguments.length?C.slice.call(a,b):C.slice.call(a,b,c)};var G,za,Aa,Ba,Ca;function Da(){return s.navigator?s.navigator.userAgent:k}Ca=Ba=Aa=za=G=l;var Ea;if(Ea=Da()){var Fa=s.navigator;G=0==Ea.indexOf("Opera");za=!G&&-1!=Ea.indexOf("MSIE");Ba=(Aa=!G&&-1!=Ea.indexOf("WebKit"))&&-1!=Ea.indexOf("Mobile");Ca=!G&&!Aa&&"Gecko"==Fa.product}var Ga=G,H=za,I=Ca,J=Aa,Ha=Ba,Ia=s.navigator,Ja=-1!=(Ia&&Ia.platform||"").indexOf("Mac");function Ka(){var a=s.document;return a?a.documentMode:g}var La;
a:{var Ma="",Na;if(Ga&&s.opera)var Oa=s.opera.version,Ma="function"==typeof Oa?Oa():Oa;else if(I?Na=/rv\:([^\);]+)(\)|;)/:H?Na=/MSIE\s+([^\);]+)(\)|;)/:J&&(Na=/WebKit\/(\S+)/),Na)var Pa=Na.exec(Da()),Ma=Pa?Pa[1]:"";if(H){var Qa=Ka();if(Qa>parseFloat(Ma)){La=String(Qa);break a}}La=Ma}var Ra={};
function K(a){var b;if(!(b=Ra[a])){b=0;for(var c=na(String(La)).split("."),d=na(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",m=d[f]||"",n=RegExp("(\\d*)(\\D*)","g"),v=RegExp("(\\d*)(\\D*)","g");do{var p=n.exec(h)||["","",""],y=v.exec(m)||["","",""];if(0==p[0].length&&0==y[0].length)break;b=((0==p[1].length?0:parseInt(p[1],10))<(0==y[1].length?0:parseInt(y[1],10))?-1:(0==p[1].length?0:parseInt(p[1],10))>(0==y[1].length?0:parseInt(y[1],10))?1:0)||((0==p[2].length)<
(0==y[2].length)?-1:(0==p[2].length)>(0==y[2].length)?1:0)||(p[2]<y[2]?-1:p[2]>y[2]?1:0)}while(0==b)}b=Ra[a]=0<=b}return b}var Sa=s.document,Ua=!Sa||!H?g:Ka()||("CSS1Compat"==Sa.compatMode?parseInt(La,10):5);var Va,Wa=!I&&!H||H&&H&&9<=Ua||I&&K("1.9.1"),Xa=H&&!K("9");function Ya(a){a=a.className;return u(a)&&a.match(/\S+/g)||[]}function Za(a,b){for(var c=Ya(a),d=ya(arguments,1),e=c.length+d.length,f=c,h=0;h<d.length;h++)0<=E(f,d[h])||f.push(d[h]);a.className=c.join(" ");return c.length==e}function $a(a,b){var c=Ya(a),d=ya(arguments,1),e,f=d;e=wa(c,function(a){return!(0<=E(f,a))});a.className=e.join(" ");return e.length==c.length-d.length}function ab(a,b){var c=Ya(a);(c=!(0<=E(c,b)))?Za(a,b):$a(a,b);return c};function bb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function cb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}var db="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<db.length;f++)c=db[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function L(a){return u(a)?document.getElementById(a):a}function fb(a,b){var c=b||document;return c.querySelectorAll&&c.querySelector?c.querySelectorAll("."+a):c.getElementsByClassName?c.getElementsByClassName(a):gb("*",a,b)}function hb(a,b){var c=b||document,d=k;return(d=c.querySelectorAll&&c.querySelector?c.querySelector("."+a):fb(a,b)[0])||k}
function gb(a,b,c){var d=document;c=c||d;a=a&&"*"!=a?a.toUpperCase():"";if(c.querySelectorAll&&c.querySelector&&(a||b))return c.querySelectorAll(a+(b?"."+b:""));if(b&&c.getElementsByClassName){c=c.getElementsByClassName(b);if(a){for(var d={},e=0,f=0,h;h=c[f];f++)a==h.nodeName&&(d[e++]=h);d.length=e;return d}return c}c=c.getElementsByTagName(a||"*");if(b){d={};for(f=e=0;h=c[f];f++)a=h.className,"function"==typeof a.split&&0<=E(a.split(/\s+/),b)&&(d[e++]=h);d.length=e;return d}return c}
function ib(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function jb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}var kb={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},lb={IMG:" ",BR:"\n"};function mb(a,b,c){if(!(a.nodeName in kb))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in lb)b.push(lb[a.nodeName]);else for(a=a.firstChild;a;)mb(a,b,c),a=a.nextSibling}function M(a){this.Ba=a||s.document||document}
M.prototype.createElement=function(a){return this.Ba.createElement(a)};M.prototype.createTextNode=function(a){return this.Ba.createTextNode(String(a))};M.prototype.appendChild=function(a,b){a.appendChild(b)};M.prototype.Ua=function(a){return Wa&&a.children!=g?a.children:wa(a.childNodes,function(a){return 1==a.nodeType})};var nb=!H||H&&9<=Ua,ob=H&&!K("9");!J||K("528");I&&K("1.9b")||H&&K("8")||Ga&&K("9.5")||J&&K("528");I&&!K("8")||H&&K("9");function N(){0!=pb&&(this.ic=Error().stack,qb[z(this)]=this)}var pb=0,qb={};N.prototype.Ra=l;N.prototype.V=function(){if(!this.Ra&&(this.Ra=j,this.l(),0!=pb)){var a=z(this);delete qb[a]}};N.prototype.l=function(){if(this.ba)for(;this.ba.length;)this.ba.shift()()};function rb(a){a&&"function"==typeof a.V&&a.V()};function O(a,b){this.type=a;this.currentTarget=this.target=b}q=O.prototype;q.l=function(){};q.V=function(){};q.R=l;q.defaultPrevented=l;q.sa=j;q.preventDefault=function(){this.defaultPrevented=j;this.sa=l};function sb(a){sb[" "](a);return a}sb[" "]=da;function tb(a,b){a&&this.la(a,b)}B(tb,O);q=tb.prototype;q.target=k;q.relatedTarget=k;q.offsetX=0;q.offsetY=0;q.clientX=0;q.clientY=0;q.screenX=0;q.screenY=0;q.button=0;q.keyCode=0;q.charCode=0;q.ctrlKey=l;q.altKey=l;q.shiftKey=l;q.metaKey=l;q.Yb=l;q.Da=k;
q.la=function(a,b){var c=this.type=a.type;O.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(I){var e;a:{try{sb(d.nodeName);e=j;break a}catch(f){}e=l}e||(d=k)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=J||a.offsetX!==g?a.offsetX:a.layerX;this.offsetY=J||a.offsetY!==g?a.offsetY:a.layerY;this.clientX=a.clientX!==g?a.clientX:a.pageX;this.clientY=a.clientY!==g?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.Yb=Ja?a.metaKey:a.ctrlKey;this.state=a.state;this.Da=a;a.defaultPrevented&&this.preventDefault();delete this.R};
q.preventDefault=function(){tb.T.preventDefault.call(this);var a=this.Da;if(a.preventDefault)a.preventDefault();else if(a.returnValue=l,ob)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};q.l=function(){};var ub=0;function vb(){}q=vb.prototype;q.key=0;q.G=l;q.ga=l;q.la=function(a,b,c,d,e,f){if("function"==t(a))this.ab=j;else if(a&&a.handleEvent&&"function"==t(a.handleEvent))this.ab=l;else throw Error("Invalid listener argument");this.B=a;this.ib=b;this.src=c;this.type=d;this.capture=!!e;this.Ia=f;this.ga=l;this.key=++ub;this.G=l};q.handleEvent=function(a){return this.ab?this.B.call(this.Ia||this.src,a):this.B.handleEvent.call(this.B,a)};var wb={},P={},Q={},xb={};
function R(a,b,c,d,e){if("array"==t(b)){for(var f=0;f<b.length;f++)R(a,b[f],c,d,e);return k}a:{if(!b)throw Error("Invalid event type");d=!!d;var h=P;b in h||(h[b]={h:0,k:0});h=h[b];d in h||(h[d]={h:0,k:0},h.h++);var h=h[d],f=z(a),m;h.k++;if(h[f]){m=h[f];for(var n=0;n<m.length;n++)if(h=m[n],h.B==c&&h.Ia==e){if(h.G)break;m[n].ga=l;a=m[n];break a}}else m=h[f]=[],h.h++;var v=yb,p=nb?function(a){return v.call(p.src,p.B,a)}:function(a){a=v.call(p.src,p.B,a);if(!a)return a},n=p,h=new vb;h.la(c,n,a,b,d,e);
h.ga=l;n.src=a;n.B=h;m.push(h);Q[f]||(Q[f]=[]);Q[f].push(h);a.addEventListener?(a==s||!a.Qa)&&a.addEventListener(b,n,d):a.attachEvent(b in xb?xb[b]:xb[b]="on"+b,n);a=h}b=a.key;wb[b]=a;return b}function zb(a,b,c,d,e){if("array"==t(b))for(var f=0;f<b.length;f++)zb(a,b[f],c,d,e);else{d=!!d;a:{f=P;if(b in f&&(f=f[b],d in f&&(f=f[d],a=z(a),f[a]))){a=f[a];break a}a=k}if(a)for(f=0;f<a.length;f++)if(a[f].B==c&&a[f].capture==d&&a[f].Ia==e){Ab(a[f].key);break}}}
function Ab(a){var b=wb[a];if(!b||b.G)return l;var c=b.src,d=b.type,e=b.ib,f=b.capture;c.removeEventListener?(c==s||!c.Qa)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in xb?xb[d]:xb[d]="on"+d,e);c=z(c);Q[c]&&(e=Q[c],xa(e,b),0==e.length&&delete Q[c]);b.G=j;if(b=P[d][f][c])b.gb=j,Bb(d,f,c,b);delete wb[a];return j}
function Bb(a,b,c,d){if(!d.na&&d.gb){for(var e=0,f=0;e<d.length;e++)d[e].G?d[e].ib.src=k:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.gb=l;0==f&&(delete P[a][b][c],P[a][b].h--,0==P[a][b].h&&(delete P[a][b],P[a].h--),0==P[a].h&&delete P[a])}}function Cb(a,b,c,d,e){var f=1;b=z(b);if(a[b]){var h=--a.k,m=a[b];m.na?m.na++:m.na=1;try{for(var n=m.length,v=0;v<n;v++){var p=m[v];p&&!p.G&&(f&=Db(p,e)!==l)}}finally{a.k=Math.max(h,a.k),m.na--,Bb(c,d,b,m)}}return Boolean(f)}
function Db(a,b){a.ga&&Ab(a.key);return a.handleEvent(b)}
function yb(a,b){if(a.G)return j;var c=a.type,d=P;if(!(c in d))return j;var d=d[c],e,f;if(!nb){e=b||ca("window.event");var h=j in d,m=l in d;if(h){if(0>e.keyCode||e.returnValue!=g)return j;a:{var n=l;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(v){n=j}if(n||e.returnValue==g)e.returnValue=j}}n=new tb;n.la(e,this);e=j;try{if(h){for(var p=[],y=n.currentTarget;y;y=y.parentNode)p.push(y);f=d[j];f.k=f.h;for(var w=p.length-1;!n.R&&0<=w&&f.k;w--)n.currentTarget=p[w],e&=Cb(f,p[w],c,j,n);if(m){f=d[l];f.k=
f.h;for(w=0;!n.R&&w<p.length&&f.k;w++)n.currentTarget=p[w],e&=Cb(f,p[w],c,l,n)}}else e=Db(a,n)}finally{p&&(p.length=0)}return e}c=new tb(b,this);return e=Db(a,c)}Math.random();H&&K(8);var Eb={oc:j},Fb={nc:j};var Gb={};function Hb(a,b){var c;a:{c=(new M(g)||Va||(Va=new M)).createElement("DIV");var d;d=a(b||Gb,g,g);var e=typeof d;"object"==e&&d!=k||"function"==e?l&&(d.za===Eb||d.za===Fb)?d=d.content:(va("Soy template output is unsafe for use as HTML: "+d),d="zSoyz"):d=String(d);c.innerHTML=d;if(1==c.childNodes.length&&(d=c.firstChild,1==d.nodeType)){c=d;break a}}return c}function S(a){return a&&a.za&&a.za===Eb?a.content:String(a).replace(Ib,Jb)}
var Kb={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Jb(a){return Kb[a]}var Ib=/[\x00\x22\x26\x27\x3c\x3e]/g;var T={ta:{}};
T.ta.ra=function(a){var b;b=""+('<div id="'+S(a.id)+'" class="restaurant"><h2>'+S(a.name)+' <small><a href="#" class="restaurant-detail-link">Info</a></small></h2><div class="well hide restaurant-detail"><div class="row-fluid"><div class="span5"><span class="hidden-phone"><i class="icon-globe"></i> <a href="#'+S(a.id)+'">Zobrazit v map\u011b</a><br /></span>'+S(a.address.street)+"<br />"+S(a.address.hc)+", "+S(a.address.city)+'<br /><i class="icon-phone"></i> '+S(a.Xb)+'</div><div class="span7"><i class="icon-external-link"></i> <a href="'+S(a.ob.Gb)+
'" target="_blank">Str\u00e1nky restaurace</a><br /><i class="icon-external-link"></i> <a href="'+S(a.ob.Ob)+'" target="_blank">Poledn\u00ed menu</a><br /><i class="icon-refresh"></i> Posledn\u00ed aktualizace: <strong>'+S(a.Nb)+"</strong></div></div></div>");if(a.fb.length){b+='<table class="table table-bordered table-hover">';a=a.fb;for(var c=a.length,d=0;d<c;d++){var e=a[d];b+='<tr class="'+(e.Kb?"warning":"")+" "+(!e.Lb?"info":"")+'"><td><span class="meal">'+S(e.name)+"</span> "+(e.Za?'<div class="meal-image"><i class="icon-camera"></i><img src="'+
S(e.Za)+'" class="hide" /></div>':"")+'</td><td class="price">'+S(e.Oa)+"</td></tr>"}b+="</table>"}else b+='<p class="well"><em>Denn\u00ed menu nen\u00ed k dispozici.</em></p>';return b+"</div>"};T.ta.random=function(a){return'<div id="choicehelp-text"><strong><a href="#'+S(a.ra.id)+'">'+S(a.ra.name)+"</a></strong> \u2013 "+S(a.eb.name)+" ("+S(a.eb.Oa)+")</div>"};function Lb(a,b){this.j=a;this.A=b}q=Lb.prototype;q.j=k;q.A=k;q.p=k;q.P=k;q.Ea=function(){return this.j.id};
q.ub=function(){var a,b,c,d,e;b=[];e=this.j.meals;c=0;for(d=e.length;c<d;c++)a=e[c],b.push({name:a.name,Oa:a.priceStr,Kb:a.isExpensive,Lb:a.isMainCourse,Za:a.image});this.p=Hb(T.ta.ra,{id:this.j.id,name:this.j.name,ob:{Gb:this.j.urls.homepage,Ob:this.j.urls.lunchmenu},Xb:this.j.phoneNumber,address:{street:this.j.address.street,hc:this.j.address.zip,city:this.j.address.city},Nb:this.j.lastUpdateStr,fb:b});this.Hb();this.Jb();L("restaurants").appendChild(this.p)};
q.Hb=function(){var a,b;b=this;a=hb("restaurant-detail-link",this.p);R(a,"click",function(a){return b.bc(a)})};q.bc=function(a){var b;b=hb("restaurant-detail",this.p);ab(b,"hide");return a.preventDefault()};q.Jb=function(){R(this.p,"click",function(a){a:{a=a.target;for(var b=0;a;){if("TR"==a.nodeName)break a;a=a.parentNode;b++}a=k}if(a)return ab(a,"meal-highlight")})};q.Bb=function(){return fb("meal",this.p)};q.zb=function(){return this.j.meals.length};
q.search=function(a){var b,c,d,e,f,h,m;d=RegExp(a,"gi");this.$b();b=0;m=this.Bb();f=0;for(h=m.length;f<h;f++)c=m[f],(e=!a||-1<c.innerHTML.replace("&nbsp;"," ").search(d))&&b++,e&&a&&this.Eb(c,a),c=c.parentNode.parentNode,!e?Za(c,"hide"):$a(c,"hide");return b||!a?this.show():this.ia()};
q.$b=function(){var a,b,c,d,e,f;e=fb("highlight",this.p);f=[];c=0;for(d=e.length;c<d;c++){b=a=e[c];var h=g;Xa&&"innerText"in b?h=b.innerText.replace(/(\r\n|\r|\n)/g,"\n"):(h=[],mb(b,h,j),h=h.join(""));h=h.replace(/ \xAD /g," ").replace(/\xAD/g,"");h=h.replace(/\u200B/g,"");Xa||(h=h.replace(/ +/g," "));" "!=h&&(h=h.replace(/^\s*/,""));b=document.createTextNode(String(h));f.push(ib(b,a))}};
q.Eb=function(a,b){var c;c=a.innerHTML.replace("&nbsp;"," ");a.innerHTML=c.replace(RegExp("(.*)("+b+")(.*)","gi"),'$1<span class="highlight label label-warning">$2</span>$3')};q.show=function(){return this.mb(j)};q.ia=function(){return this.mb(l)};q.mb=function(a){var b=this.p;!a?Za(b,"hide"):$a(b,"hide");if(this.P)return this.P.setVisible(a)};
q.Zb=function(a){var b;b=this;this.P=new google.maps.Marker({map:a,title:this.j.name,position:new google.maps.LatLng(this.j.address.map.lat,this.j.address.map.lng),icon:this.Va()});google.maps.event.addListener(this.P,"click",function(){b.scrollTo();b.La();var a=b.A,d=b.Ea();U(a)!=d&&(a.J?(Mb(a,d,l),Nb||H&&Ob(a,d,l,g),a.W&&a.Pa(l)):(Ob(a,d,l),a.N=a.M=a.X.value=d,a.dispatchEvent(new Pb(d,l))))})};q.La=function(){Za(this.p,"restaurant-highlight");return this.P.setIcon(this.Ga("blue"))};
q.fc=function(){$a(this.p,"restaurant-highlight");return this.P.setIcon(this.Va())};q.scrollTo=function(){var a,b,c,d,e,f,h;d=h=window.scrollY;c=document.height-window.innerHeight;b=this.p.offsetTop>c?c:this.p.offsetTop;e=10*(b-h)/300;f=function(a,c){return 0<c&&a<b||0>c&&a>b};a=function(){f(d+e,e)||(e=0<e?2:-2);d+=e;window.scrollTo(0,d);if(f(d,e))return setTimeout(a,10)};if(e)return a()};q.Va=function(){return this.zb()?this.Ga("red"):this.Ga("gray")};
q.Ga=function(a){return"http://labs.google.com/ridefinder/images/mm_20_"+a+".png"};T.rb=Lb;function Qb(){N.call(this)}B(Qb,N);q=Qb.prototype;q.Qa=j;q.Na=k;q.addEventListener=function(a,b,c,d){R(this,a,b,c,d)};q.removeEventListener=function(a,b,c,d){zb(this,a,b,c,d)};
q.dispatchEvent=function(a){var b=a.type||a,c=P;if(b in c){if(u(a))a=new O(a,this);else if(a instanceof O)a.target=a.target||this;else{var d=a;a=new O(b,this);eb(a,d)}var d=1,e,c=c[b],b=j in c,f;if(b){e=[];for(f=this;f;f=f.Na)e.push(f);f=c[j];f.k=f.h;for(var h=e.length-1;!a.R&&0<=h&&f.k;h--)a.currentTarget=e[h],d&=Cb(f,e[h],a.type,j,a)&&a.sa!=l}if(l in c)if(f=c[l],f.k=f.h,b)for(h=0;!a.R&&h<e.length&&f.k;h++)a.currentTarget=e[h],d&=Cb(f,e[h],a.type,l,a)&&a.sa!=l;else for(e=this;!a.R&&e&&f.k;e=e.Na)a.currentTarget=
e,d&=Cb(f,e,a.type,l,a)&&a.sa!=l;a=Boolean(d)}else a=j;return a};q.l=function(){Qb.T.l.call(this);var a=0;if(this!=k){var b=z(this);if(Q[b])for(var b=Q[b],c=b.length-1;0<=c;c--)Ab(b[c].key),a++}else for(c in b=function(b,c){Ab(c);a++},wb)b.call(g,0,c);this.Na=k};function Rb(a,b){N.call(this);this.Y=a||1;this.ca=b||Sb;this.xa=A(this.cc,this);this.Ka=ka()}B(Rb,Qb);Rb.prototype.enabled=l;var Sb=s;q=Rb.prototype;q.g=k;q.setInterval=function(a){this.Y=a;this.g&&this.enabled?(this.stop(),this.start()):this.g&&this.stop()};q.cc=function(){if(this.enabled){var a=ka()-this.Ka;0<a&&a<0.8*this.Y?this.g=this.ca.setTimeout(this.xa,this.Y-a):(this.dispatchEvent(Tb),this.enabled&&(this.g=this.ca.setTimeout(this.xa,this.Y),this.Ka=ka()))}};
q.start=function(){this.enabled=j;this.g||(this.g=this.ca.setTimeout(this.xa,this.Y),this.Ka=ka())};q.stop=function(){this.enabled=l;this.g&&(this.ca.clearTimeout(this.g),this.g=k)};q.l=function(){Rb.T.l.call(this);this.stop();delete this.ca};var Tb="tick";function Ub(a){if("function"==typeof a.ha)return a.ha();if(u(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return bb(a)}function Vb(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ea(a)||u(a))F(a,b,c);else{var d;if("function"==typeof a.Fa)d=a.Fa();else if("function"!=typeof a.ha)if(ea(a)||u(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=cb(a);else d=g;for(var e=Ub(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};function Wb(a,b){this.Q={};this.f=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof Wb?(c=a.Fa(),d=a.ha()):(c=cb(a),d=bb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}q=Wb.prototype;q.h=0;q.pb=0;q.ha=function(){Xb(this);for(var a=[],b=0;b<this.f.length;b++)a.push(this.Q[this.f[b]]);return a};q.Fa=function(){Xb(this);return this.f.concat()};
q.clear=function(){this.Q={};this.pb=this.h=this.f.length=0};function Xb(a){if(a.h!=a.f.length){for(var b=0,c=0;b<a.f.length;){var d=a.f[b];Object.prototype.hasOwnProperty.call(a.Q,d)&&(a.f[c++]=d);b++}a.f.length=c}if(a.h!=a.f.length){for(var e={},c=b=0;b<a.f.length;)d=a.f[b],Object.prototype.hasOwnProperty.call(e,d)||(a.f[c++]=d,e[d]=1),b++;a.f.length=c}}q.set=function(a,b){Object.prototype.hasOwnProperty.call(this.Q,a)||(this.h++,this.f.push(a),this.pb++);this.Q[a]=b};function Yb(a){return Zb(a||arguments.callee.caller,[])}
function Zb(a,b){var c=[];if(0<=E(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push($b(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=$b(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(Zb(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function $b(a){if(ac[a])return ac[a];a=String(a);if(!ac[a]){var b=/function ([^\(]+)/.exec(a);ac[a]=b?b[1]:"[Anonymous]"}return ac[a]}var ac={};function bc(a,b,c,d,e){this.reset(a,b,c,d,e)}bc.prototype.ac=0;bc.prototype.Ta=k;bc.prototype.Sa=k;var cc=0;bc.prototype.reset=function(a,b,c,d,e){this.ac="number"==typeof e?e:cc++;this.pc=d||ka();this.aa=a;this.Pb=b;this.kc=c;delete this.Ta;delete this.Sa};bc.prototype.kb=function(a){this.aa=a};function V(a){this.Qb=a}V.prototype.qa=k;V.prototype.aa=k;V.prototype.ya=k;V.prototype.Wa=k;function dc(a,b){this.name=a;this.value=b}dc.prototype.toString=function(){return this.name};var ec=new dc("SEVERE",1E3),fc=new dc("WARNING",900),gc=new dc("CONFIG",700),hc=new dc("FINE",500);q=V.prototype;q.getParent=function(){return this.qa};q.Ua=function(){this.ya||(this.ya={});return this.ya};q.kb=function(a){this.aa=a};
function ic(a){if(a.aa)return a.aa;if(a.qa)return ic(a.qa);va("Root logger has no level set.");return k}q.log=function(a,b,c){if(a.value>=ic(this).value){a=this.Ab(a,b,c);b="log:"+a.Pb;s.console&&(s.console.timeStamp?s.console.timeStamp(b):s.console.markTimeline&&s.console.markTimeline(b));s.msWriteProfilerMark&&s.msWriteProfilerMark(b);for(b=this;b;){c=b;var d=a;if(c.Wa)for(var e=0,f=g;f=c.Wa[e];e++)f(d);b=b.getParent()}}};
q.Ab=function(a,b,c){var d=new bc(a,String(b),this.Qb);if(c){d.Ta=c;var e;var f=arguments.callee.caller;try{var h;var m=ca("window.location.href");if(u(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:m,stack:"Not available"};else{var n,v,p=l;try{n=c.lineNumber||c.line||"Not available"}catch(y){n="Not available",p=j}try{v=c.fileName||c.filename||c.sourceURL||s.$googDebugFname||m}catch(w){v="Not available",p=j}h=p||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,
lineNumber:n,fileName:v,stack:c.stack||"Not available"}:c}e="Message: "+oa(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+oa(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+oa(Yb(f)+"-> ")}catch(Ta){e="Exception trying to expose exception! You win, we lose. "+Ta}d.Sa=e}return d};function W(a,b){a.log(hc,b,g)}var jc={},kc=k;
function lc(a){kc||(kc=new V(""),jc[""]=kc,kc.kb(gc));var b;if(!(b=jc[a])){b=new V(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=lc(a.substr(0,c));c.Ua()[d]=b;b.qa=c;jc[a]=b}return b};function mc(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function nc(){}nc.prototype.fa=k;var oc;function pc(){}B(pc,nc);function qc(a){return(a=rc(a))?new ActiveXObject(a):new XMLHttpRequest}function sc(a){var b={};rc(a)&&(b[0]=j,b[1]=j);return b}
function rc(a){if(!a.Ya&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Ya=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Ya}oc=new pc;var tc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function uc(a){N.call(this);this.headers=new Wb;this.U=a||k}B(uc,Qb);uc.prototype.m=lc("goog.net.XhrIo");var vc=/^https?$/i,wc=[];function xc(a,b){var c=new uc;wc.push(c);b&&R(c,"complete",b);R(c,"ready",ja(yc,c));c.send(a,g,g,g)}function yc(a){a.V();xa(wc,a)}q=uc.prototype;q.w=l;q.b=k;q.va=k;q.ma="";q.bb="";q.Z=0;q.$="";q.Ca=l;q.ka=l;q.Ja=l;q.D=l;q.ua=0;q.I=k;q.jb="";q.gc=l;
q.send=function(a,b,c,d){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request="+this.ma+"; newUri="+a);b=b?b.toUpperCase():"GET";this.ma=a;this.$="";this.Z=0;this.bb=b;this.Ca=l;this.w=j;this.b=this.U?qc(this.U):qc(oc);this.va=this.U?this.U.fa||(this.U.fa=sc(this.U)):oc.fa||(oc.fa=sc(oc));this.b.onreadystatechange=A(this.hb,this);try{W(this.m,X(this,"Opening Xhr")),this.Ja=j,this.b.open(b,a,j),this.Ja=l}catch(e){W(this.m,X(this,"Error opening Xhr: "+e.message));zc(this,e);
return}a=c||"";var f=new Wb(this.headers);d&&Vb(d,function(a,b){f.set(b,a)});d=s.FormData&&a instanceof s.FormData;if(b="POST"==b)b=!Object.prototype.hasOwnProperty.call(f.Q,"Content-Type")&&!d;b&&f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Vb(f,function(a,b){this.b.setRequestHeader(b,a)},this);this.jb&&(this.b.responseType=this.jb);"withCredentials"in this.b&&(this.b.withCredentials=this.gc);try{this.I&&(Sb.clearTimeout(this.I),this.I=k),0<this.ua&&(W(this.m,X(this,"Will abort after "+
this.ua+"ms if incomplete")),this.I=Sb.setTimeout(A(this.dc,this),this.ua)),W(this.m,X(this,"Sending request")),this.ka=j,this.b.send(a),this.ka=l}catch(h){W(this.m,X(this,"Send error: "+h.message)),zc(this,h)}};q.dc=function(){"undefined"!=typeof aa&&this.b&&(this.$="Timed out after "+this.ua+"ms, aborting",this.Z=8,W(this.m,X(this,this.$)),this.dispatchEvent("timeout"),this.abort(8))};function zc(a,b){a.w=l;a.b&&(a.D=j,a.b.abort(),a.D=l);a.$=b;a.Z=5;Ac(a);Bc(a)}
function Ac(a){a.Ca||(a.Ca=j,a.dispatchEvent("complete"),a.dispatchEvent("error"))}q.abort=function(a){this.b&&this.w&&(W(this.m,X(this,"Aborting")),this.w=l,this.D=j,this.b.abort(),this.D=l,this.Z=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Bc(this))};q.l=function(){this.b&&(this.w&&(this.w=l,this.D=j,this.b.abort(),this.D=l),Bc(this,j));uc.T.l.call(this)};q.hb=function(){!this.Ja&&!this.ka&&!this.D?this.Tb():Cc(this)};q.Tb=function(){Cc(this)};
function Cc(a){if(a.w&&"undefined"!=typeof aa)if(a.va[1]&&4==Dc(a)&&2==a.getStatus())W(a.m,X(a,"Local request error detected and ignored"));else if(a.ka&&4==Dc(a))Sb.setTimeout(A(a.hb,a),0);else if(a.dispatchEvent("readystatechange"),4==Dc(a)){W(a.m,X(a,"Request complete"));a.w=l;try{var b=a.getStatus(),c,d;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:d=j;break a;default:d=l}if(!(c=d)){var e;if(e=0===b){var f=String(a.ma).match(tc)[1]||k;if(!f&&self.location)var h=self.location.protocol,
f=h.substr(0,h.length-1);e=!vc.test(f?f.toLowerCase():"")}c=e}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Z=6;var m;try{m=2<Dc(a)?a.b.statusText:""}catch(n){W(a.m,"Can not get status: "+n.message),m=""}a.$=m+" ["+a.getStatus()+"]";Ac(a)}}finally{Bc(a)}}}
function Bc(a,b){if(a.b){var c=a.b,d=a.va[0]?da:k;a.b=k;a.va=k;a.I&&(Sb.clearTimeout(a.I),a.I=k);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){a.m.log(ec,"Problem encountered resetting onreadystatechange: "+e.message,g)}}}function Dc(a){return a.b?a.b.readyState:0}q.getStatus=function(){try{return 2<Dc(this)?this.b.status:-1}catch(a){return this.m.log(fc,"Can not get status: "+a.message,g),-1}};function Ec(a){if(a.b)return mc(a.b.responseText)}
function X(a,b){return b+" ["+a.bb+" "+a.ma+" "+a.getStatus()+"]"};function Fc(){this.Ib()}Fc.prototype.Ib=function(){var a;a=this;this.timeout=setTimeout(function(){return a.Xa()},6E5);R(L("choicehelp-link"),"click",function(){window._gaq&&window._gaq.push(["_trackEvent","Random","ShowByClick"]);return a.Xa()});R(L("choicehelp-close"),"click",function(){return a.ia()});R(window.document,"keyup",function(b){if(b.keyCode===Gc)return a.ia()})};
Fc.prototype.Xa=function(){window.clearTimeout(this.timeout);window._gaq&&window._gaq.push(["_trackEvent","Random","Show"]);return xc("/api/meal/random",function(a){a=Ec(a.target);a=Hb(T.ta.random,{ra:{id:a.restaurant.id,name:a.restaurant.name},eb:{name:a.meal.name,Oa:a.meal.priceStr}});ib(a,L("choicehelp-text"));return $a(L("choicehelp-box"),"hide")})};Fc.prototype.ia=function(){return Za(L("choicehelp-box"),"hide")};T.qb=Fc;window.lta=T;T.ChoiceHelp=T.qb;function Hc(a){N.call(this);this.Db=a;this.f=[]}B(Hc,N);var Ic=[];function Jc(a,b,c,d){"array"!=t(c)&&(Ic[0]=c,c=Ic);for(var e=0;e<c.length;e++){var f=R(b,c[e],d||a,l,a.Db||a);a.f.push(f)}}Hc.prototype.l=function(){Hc.T.l.call(this);F(this.f,Ab);this.f.length=0};Hc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Pb(a,b){O.call(this,"navigate");this.ec=a;this.jc=b}B(Pb,O);function Y(a,b,c,d){N.call(this);if(a&&!b)throw Error("Can't use invisible history without providing a blank page.");var e;c?e=c:(e="history_state"+Kc,document.write(ma(Lc,e,e)),e=L(e));this.X=e;this.q=c?jb(c)?jb(c).parentWindow||jb(c).defaultView:window:window;this.vb=this.q.location.href.split("#")[0];this.ja=b;H&&!b&&(this.ja="https"==window.location.protocol?"https:///":'javascript:""');this.g=new Rb(Mc);b=ja(rb,this.g);this.ba||(this.ba=[]);this.ba.push(A(b,g));this.J=!a;this.C=new Hc(this);
if(a||Z)d?a=d:(a="history_iframe"+Kc,d=this.ja?'src="'+oa(this.ja)+'"':"",document.write(ma(Nc,a,d)),a=L(a)),this.L=a,this.nb=j;Z&&(Jc(this.C,this.q,"load",this.Rb),this.lb=this.Aa=l);this.J?Mb(this,U(this),j):Ob(this,this.X.value);Kc++}B(Y,Qb);Y.prototype.W=l;Y.prototype.O=l;Y.prototype.M=k;var Nb=H&&H&&8<=Ua||I&&K("1.9.2")||J&&K("532.1"),Z=H&&!(H&&8<=Ua),Oc=Z;q=Y.prototype;q.N=k;q.l=function(){Y.T.l.call(this);this.C.V();Pc(this,l)};
function Pc(a,b){if(b!=a.W)if(Z&&!a.Aa)a.lb=b;else if(b)if(Ga?Jc(a.C,a.q.document,Qc,a.Vb):I&&Jc(a.C,a.q,"pageshow",a.Ub),Nb&&a.J)Jc(a.C,a.q,"hashchange",a.Sb),a.W=j,a.dispatchEvent(new Pb(U(a),l));else{if(!H||a.Aa)Jc(a.C,a.g,Tb,A(a.Pa,a,j)),a.W=j,Z||(a.M=U(a),a.dispatchEvent(new Pb(U(a),l))),a.g.start()}else{a.W=l;var c=a.C;F(c.f,Ab);c.f.length=0;a.g.stop()}}q.Rb=function(){this.Aa=j;this.X.value&&Ob(this,this.X.value,j);Pc(this,this.lb)};q.Ub=function(a){a.Da.persisted&&(Pc(this,l),Pc(this,j))};
q.Sb=function(){var a=Rc(this.q);a!=this.M&&Sc(this,a,j)};function U(a){return a.N!=k?a.N:a.J?Rc(a.q):Tc(a)||""}function Rc(a){a=a.location.href;var b=a.indexOf("#");return 0>b?"":a.substring(b+1)}function Mb(a,b,c){var d=a.q.location;a=a.vb;var e=-1!=d.href.indexOf("#");if(Oc||e||b)a+="#"+b;a!=d.href&&(c?d.replace(a):d.href=a)}
function Ob(a,b,c,d){if(a.nb||b!=Tc(a))if(a.nb=l,b=encodeURIComponent(String(b)),H){var e=a.L.contentDocument||a.L.contentWindow.document;e.open("text/html",c?"replace":g);e.write(ma(Uc,oa(d||a.q.document.title),b));e.close()}else if(b=a.ja+"#"+b,a=a.L.contentWindow)c?a.location.replace(b):a.location.href=b}
function Tc(a){if(H)return a=a.L.contentDocument||a.L.contentWindow.document,a.body?decodeURIComponent(a.body.innerHTML.replace(/\+/g," ")):k;var b=a.L.contentWindow;if(b){var c;try{c=decodeURIComponent(Rc(b).replace(/\+/g," "))}catch(d){return a.O||(a.O!=j&&a.g.setInterval(Vc),a.O=j),k}a.O&&(a.O!=l&&a.g.setInterval(Mc),a.O=l);return c||k}return k}
q.Pa=function(a){if(this.J){var b=Rc(this.q);b!=this.M&&Sc(this,b,a)}if(!this.J||Z)if(b=Tc(this)||"",this.N==k||b==this.N)this.N=k,b!=this.M&&Sc(this,b,a)};function Sc(a,b,c){a.M=a.X.value=b;a.J?(Z&&Ob(a,b),Mb(a,b)):Ob(a,b);a.dispatchEvent(new Pb(U(a),c))}q.Vb=function(){this.g.stop();this.g.start()};
var Qc=["mousedown","keydown","mousemove"],Uc="<title>%s</title><body>%s</body>",Nc='<iframe id="%s" style="display:none" %s></iframe>',Lc='<input type="text" name="%s" id="%s" style="display:none">',Kc=0,Mc=150,Vc=1E4;function Wc(a){this.yb(a);this.xb()}q=Wc.prototype;q.S=[];q.A=k;q.Ha=k;q.yb=function(a){var b;window.console.log("ismob",Ha);Ha||(b=L("restaurants_map"),window.console.log("register map",b,a),this.Ha=new google.maps.Map(b,a))};q.xb=function(){var a;a=this;this.A=new Y;Pc(this.A,j);R(this.A,"navigate",function(b){return a.Fb(b)})};q.Fb=function(a){var b,c,d,e,f;e=this.S;f=[];c=0;for(d=e.length;c<d;c++)b=e[c],a.ec===b.Ea()?f.push(b.La()):f.push(b.fc());return f};
Wc.prototype.load=function(){var a;a=this;return xc("/api/listall",function(b){var c,d,e,f;L("restaurants").innerHTML="";c=Ec(b.target);d=0;for(e=c.length;d<e;d++)b=c[d],b=new T.rb(b,a.A),b.ub(),a.Ha&&b.Zb(a.Ha),a.S.push(b);e=a.S;f=[];c=0;for(d=e.length;c<d;c++)if(b=e[c],U(a.A)===b.Ea()){b.scrollTo();b.La();break}else f.push(g);return f})};Wc.prototype.search=function(a){var b,c,d,e,f;e=this.S;f=[];c=0;for(d=e.length;c<d;c++)b=e[c],f.push(b.search(a));return f};T.sb=Wc;window.lta=T;
T.Restaurants=T.sb;var Xc;Xc=function(){return j};/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

The "New" BSD License:

Copyright (c) 2005-2009, The Dojo Foundation
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
    list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
    may be used to endorse or promote products derived from this software
    without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
function Yc(a,b){var c=b||[];a&&c.push(a);return c}var Zc=J&&"BackCompat"==document.compatMode,$c=document.firstChild.children?"children":"childNodes",ad=l;
function bd(a){function b(){0<=v&&(r.id=c(v,x).replace(/\\/g,""),v=-1);if(0<=p){var a=p==x?k:c(p,x);0>">~+".indexOf(a)?r.tag=a:r.pa=a;p=-1}0<=n&&(r.v.push(c(n+1,x).replace(/\\/g,"")),n=-1)}function c(b,c){return na(a.slice(b,c))}a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ";for(var d=[],e=-1,f=-1,h=-1,m=-1,n=-1,v=-1,p=-1,y="",w="",Ta,x=0,yd=a.length,r=k,D=k;y=w,w=a.charAt(x),x<yd;x++)if("\\"!=y)if(r||(Ta=x,r={query:k,F:[],ea:[],v:[],tag:k,pa:k,id:k,getTag:function(){return ad?this.Wb:this.tag}},p=
x),0<=e)if("]"==w){D.wa?D.Ma=c(h||e+1,x):D.wa=c(e+1,x);if((e=D.Ma)&&('"'==e.charAt(0)||"'"==e.charAt(0)))D.Ma=e.slice(1,-1);r.ea.push(D);D=k;e=h=-1}else"="==w&&(h=0<="|~^$*".indexOf(y)?y:"",D.type=h+w,D.wa=c(e+1,x-h.length),h=x+1);else 0<=f?")"==w&&(0<=m&&(D.value=c(f+1,x)),m=f=-1):"#"==w?(b(),v=x+1):"."==w?(b(),n=x):":"==w?(b(),m=x):"["==w?(b(),e=x,D={}):"("==w?(0<=m&&(D={name:c(m+1,x),value:k},r.F.push(D)),f=x):" "==w&&y!=w&&(b(),0<=m&&r.F.push({name:c(m+1,x)}),r.cb=r.F.length||r.ea.length||r.v.length,
r.mc=r.query=c(Ta,x),r.Wb=r.tag=r.pa?k:r.tag||"*",r.tag&&(r.tag=r.tag.toUpperCase()),d.length&&d[d.length-1].pa&&(r.$a=d.pop(),r.query=r.$a.query+" "+r.query),d.push(r),r=k);return d}function cd(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}}function dd(a){return 1==a.nodeType}function ed(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(ad?a.getAttribute(b):a.getAttribute(b,2))||""}
var fd={"*=":function(a,b){return function(c){return 0<=ed(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==ed(c,a).indexOf(b)}},"$=":function(a,b){return function(c){c=" "+ed(c,a);return c.lastIndexOf(b)==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+ed(b,a)+" ").indexOf(c)}},"|=":function(a,b){b=" "+b;return function(c){c=" "+ed(c,a);return c==b||0==c.indexOf(b+"-")}},"=":function(a,b){return function(c){return ed(c,a)==b}}},gd="undefined"==
typeof document.firstChild.nextElementSibling,hd=!gd?"nextElementSibling":"nextSibling",id=!gd?"previousElementSibling":"previousSibling",jd=gd?dd:Xc;function kd(a){for(;a=a[id];)if(jd(a))return l;return j}function ld(a){for(;a=a[hd];)if(jd(a))return l;return j}function md(a){var b=a.parentNode,c=0,d=b[$c],e=a._i||-1,f=b._l||-1;if(!d)return-1;d=d.length;if(f==d&&0<=e&&0<=f)return e;b._l=d;e=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[hd])jd(b)&&(b._i=++c,a===b&&(e=c));return e}
function nd(a){return!(md(a)%2)}function od(a){return md(a)%2}
var qd={checked:function(){return function(a){return a.checked||a.attributes.checked}},"first-child":function(){return kd},"last-child":function(){return ld},"only-child":function(){return function(a){return!kd(a)||!ld(a)?l:j}},empty:function(){return function(a){var b=a.childNodes;for(a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;if(1===c||3==c)return l}return j}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},
not:function(a,b){var c=bd(b)[0],d={K:1};"*"!=c.tag&&(d.tag=1);c.v.length||(d.v=1);var e=pd(c,d);return function(a){return!e(a)}},"nth-child":function(a,b){if("odd"==b)return od;if("even"==b)return nd;if(-1!=b.indexOf("n")){var c=b.split("n",2),d=c[0]?"-"==c[0]?-1:parseInt(c[0],10):1,e=c[1]?parseInt(c[1],10):0,f=0,h=-1;0<d?0>e?e=e%d&&d+e%d:0<e&&(e>=d&&(f=e-e%d),e%=d):0>d&&(d*=-1,0<e&&(h=e,e%=d));if(0<d)return function(a){a=md(a);return a>=f&&(0>h||a<=h)&&a%d==e};b=e}var m=parseInt(b,10);return function(a){return md(a)==
m}}},rd=H?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return ad?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}};
function pd(a,b){if(!a)return Xc;b=b||{};var c=k;b.K||(c=cd(c,dd));b.tag||"*"!=a.tag&&(c=cd(c,function(b){return b&&b.tagName==a.getTag()}));b.v||F(a.v,function(a,b){var f=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");c=cd(c,function(a){return f.test(a.className)});c.count=b});b.F||F(a.F,function(a){var b=a.name;qd[b]&&(c=cd(c,qd[b](b,a.value)))});b.ea||F(a.ea,function(a){var b,f=a.wa;a.type&&fd[a.type]?b=fd[a.type](f,a.Ma):f.length&&(b=rd(f));b&&(c=cd(c,b))});b.id||a.id&&(c=cd(c,function(b){return!!b&&b.id==
a.id}));c||"default"in b||(c=Xc);return c}var sd={};
function td(a){var b=sd[a.query];if(b)return b;var c=a.$a,c=c?c.pa:"",d=pd(a,{K:1}),e="*"==a.tag,f=document.getElementsByClassName;if(c)if(f={K:1},e&&(f.tag=1),d=pd(a,f),"+"==c)var h=d,b=function(a,b,c){for(;a=a[hd];)if(!gd||dd(a)){(!c||ud(a,c))&&h(a)&&b.push(a);break}return b};else if("~"==c)var m=d,b=function(a,b,c){for(a=a[hd];a;){if(jd(a)){if(c&&!ud(a,c))break;m(a)&&b.push(a)}a=a[hd]}return b};else{if(">"==c)var n=d,n=n||Xc,b=function(a,b,c){for(var d=0,e=a[$c];a=e[d++];)jd(a)&&((!c||ud(a,c))&&
n(a,d))&&b.push(a);return b}}else if(a.id)d=!a.cb&&e?Xc:pd(a,{K:1,id:1}),b=function(b,c){var e;e=b?new M(jb(b)):Va||(Va=new M);var f=a.id;if(f=(e=u(f)?e.Ba.getElementById(f):f)&&d(e))if(!(f=9==b.nodeType)){for(f=e.parentNode;f&&f!=b;)f=f.parentNode;f=!!f}if(f)return Yc(e,c)};else if(f&&/\{\s*\[native code\]\s*\}/.test(String(f))&&a.v.length&&!Zc)var d=pd(a,{K:1,v:1,id:1}),v=a.v.join(" "),b=function(a,b){for(var c=Yc(0,b),e,f=0,h=a.getElementsByClassName(v);e=h[f++];)d(e,a)&&c.push(e);return c};else!e&&
!a.cb?b=function(b,c){for(var d=Yc(0,c),e,f=0,h=b.getElementsByTagName(a.getTag());e=h[f++];)d.push(e);return d}:(d=pd(a,{K:1,tag:1,id:1}),b=function(b,c){for(var e=Yc(0,c),f,h=0,m=b.getElementsByTagName(a.getTag());f=m[h++];)d(f,b)&&e.push(f);return e});return sd[a.query]=b}var vd={},wd={};
function xd(a){var b=bd(na(a));if(1==b.length){var c=td(b[0]);return function(a){if(a=c(a,[]))a.oa=j;return a}}return function(a){a=Yc(a);for(var c,f,h=b.length,m,n,v=0;v<h;v++){n=[];c=b[v];f=a.length-1;0<f&&(m={},n.oa=j);f=td(c);for(var p=0;c=a[p];p++)f(c,n,m);if(!n.length)break;a=n}return n}}var zd=!!document.querySelectorAll&&(!J||K("526"));
function Ad(a,b){if(zd){var c=wd[a];if(c&&!b)return c}if(c=vd[a])return c;var c=a.charAt(0),d=-1==a.indexOf(" ");0<=a.indexOf("#")&&d&&(b=j);if(zd&&!b&&-1==">~+".indexOf(c)&&(!H||-1==a.indexOf(":"))&&!(Zc&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf("|=")){var e=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return wd[a]=function(b){try{if(!(9==b.nodeType||d))throw"";var c=b.querySelectorAll(e);H?c.wb=j:c.oa=j;return c}catch(f){return Ad(a,j)(b)}}}var f=a.split(/\s*,\s*/);return vd[a]=
2>f.length?xd(a):function(a){for(var b=0,c=[],d;d=f[b++];)c=c.concat(xd(d)(a));return c}}var $=0,Bd=H?function(a){return ad?a.getAttribute("_uid")||a.setAttribute("_uid",++$)||$:a.uniqueID}:function(a){return a._uid||(a._uid=++$)};function ud(a,b){if(!b)return 1;var c=Bd(a);return!b[c]?b[c]=1:0}
function Cd(a){if(a&&a.oa)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;$++;if(H&&ad){var c=$+"";a[0].setAttribute("_zipIdx",c);for(var d=1,e;e=a[d];d++)a[d].getAttribute("_zipIdx")!=c&&b.push(e),e.setAttribute("_zipIdx",c)}else if(H&&a.wb)try{for(d=1;e=a[d];d++)dd(e)&&b.push(e)}catch(f){}else{a[0]&&(a[0]._zipIdx=$);for(d=1;e=a[d];d++)a[d]._zipIdx!=$&&b.push(e),e._zipIdx=$}return b}
function Dd(a,b){if(!a)return[];if(a.constructor==Array)return a;if(!u(a))return[a];if(u(b)&&(b=L(b),!b))return[];b=b||document;var c=b.ownerDocument||b.documentElement;ad=b.contentType&&"application/xml"==b.contentType||Ga&&(b.doctype||"[object XMLDocument]"==c.toString())||!!c&&(H?c.xml:b.xmlVersion||c.xmlVersion);return(c=Ad(a)(b))&&c.oa?c:Cd(c)}Dd.F=qd;ba("goog.dom.query",Dd);ba("goog.dom.query.pseudos",Dd.F);var Gc=27;function Ed(a,b){var c,d;d=this;this.S=b;c=L(a);this.H=gb("input",k,c)[0];c=gb("button",k,c)[0];this.H.focus();R(this.H,"input",function(){return d.search()});R(this.H,"keyup",function(a){if(a.keyCode===Gc)return d.clear()});R(c,"click",function(){return d.clear()})}q=Ed.prototype;q.H=k;
q.Mb={a:["\u00e1","\u00e4"],c:["\u010d"],d:["\u010f"],e:["\u00e9","\u011b","\u00eb"],i:["\u00ed","\u00ef"],n:["\u0148"],o:["\u00f3","\u00f6"],r:["\u0159"],s:["\u0161"],t:["\u0165"],u:["\u00fa","\u016f","\u00fc"],y:["\u00fd"],z:["\u017e"]};q.clear=function(){this.H.value="";this.H.focus();return this.search()};q.search=function(){return this.S.search(this.Cb())};
q.Cb=function(){var a,b,c,d,e,f;a="";f=this.H.value;d=0;for(e=f.length;d<e;d++)b=f[d],c=this.Mb[b]||[],c=c.slice(0),c.push(b),a+="["+c.join("")+"]";return a};T.tb=Ed;window.lta=T;T.Search=T.tb;T.da={};T.da.load=function(){var a,b,c,d,e;b=fb("example-result");e=[];c=0;for(d=b.length;c<d;c++)a=b[c],e.push(function(a){var b;b=a.getAttribute("url");return xc(b,function(b){var c;b=b.target;try{c=b.b?b.b.responseText:""}catch(d){W(b.m,"Can not get responseText: "+d.message),c=""}return a.innerText=c})}(a));return e};window.lta=T;T.api=T.da;T.da.load=T.da.load;
